<!DOCTYPE html>
<html lang="en" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head th:replace="/fragments/shared/head"></head>
<body>
	<div class="d-flex" id="wrapper">
		<div th:replace="/fragments/shared/sidenav"></div>
		<div id="page-content-wrapper">
			<nav th:replace="/fragments/shared/topnav"></nav>
			<div class="container-fluid">
				<div layout:decorate="~{index}" layout:fragment="content">
					<h1 class="mt-4">Create rental</h1>
					<p class="lead">Issue new rentals for specific customers</p>
					<hr>
					<div>
						<form action="/employee/create-rental/process" method="post"
							th:object="${rental}">
							<div>
								<div>
									<div class="form-group row">
										<label class="col-sm-2" for="car">Car</label>
										<div class="col-sm-10">
											<select class="form-control form-control-sm" id="car"
												th:field="*{car}">
												<option th:each="car : ${cars}" th:text="${car.model}+' '+${car.name}"
													th:value="${car.id}"></option>
											</select>
										</div>
									</div>

									<div class="form-group row">
										<label class="col-sm-2" for="driver">Customer</label>
										<div class="col-md-10">
											<select class="form-control form-control-sm" id="driver"
												th:field="*{customer}">
												<option th:each="customer : ${customers}"
													th:text="${customer.firstName}+' '+${customer.lastName}" th:value="${customer.id}"></option>
											</select>
										</div>
									</div>

									<div class="form-group row">
										<label class="col-sm-2" for="rentalDate">Rental date</label>
										<div class="col-md-10">
											<input class="form-control form-control-sm" id="rentalDate"
												th:field="*{rentalDate}" type="date"> <small
												class="text-danger" th:errors="*{rentalDate}"
												th:if="${#fields.hasErrors('rentalDate')}"></small>
										</div>
									</div>

									<hr>
									<div class="form-group row">
										<label class="col-sm-2"></label>
										<div class="col-md-10">
											<input class="btn btn-success" type="submit" value="Create">
										</div>
									</div>
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
	<script>
    $(document).ready(() => {
        let item = sessionStorage.getItem("closed");
        $("#wrapper").addClass(item ? item === "true" ? "closed" : "open" : "");
    });
    $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("closed");
        sessionStorage.setItem("closed", $(wrapper).hasClass("closed"));
    });
</script>
</body>
</html>

